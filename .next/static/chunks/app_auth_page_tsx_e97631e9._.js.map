{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/PingProspect/pingprospect-nextapp/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth,GoogleAuthProvider,signInWithPopup} from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nfunction SignIn() {\r\n\r\n  async function createUserAccount() {\r\n    const firebaseConfig = await getConfig();\r\n    const app = initializeApp(firebaseConfig);\r\n    const auth = getAuth(app);\r\n    const db = getFirestore(app);\r\n    const googleProvider = new GoogleAuthProvider();\r\n    try {\r\n      const result = await signInWithPopup(auth, googleProvider);\r\n      const credential = GoogleAuthProvider.credentialFromResult(result);\r\n      const idToken = credential?.idToken;\r\n      const user = result.user;\r\n      const userData = {\r\n        sub: user.uid, // Firebase UID used as the document ID\r\n        fullName: user.displayName || \"\",\r\n        email: user.email || \"\",\r\n        email_verified: user.emailVerified,\r\n        picture: user.photoURL || \"\",\r\n        subscription_status: \"Free\",\r\n        user_created_at: new Date(),\r\n      };\r\n      await createUserDocument(db, userData);\r\n      // Generate a one time code\r\n      // const code = crypto.randomBytes(16).toString(\"hex\");\r\n\r\n      if (window !== undefined) {\r\n        window.location.href = \"pingprospect://\" + idToken;\r\n      }\r\n      return idToken;\r\n    } catch (error) {\r\n      console.error(\"Sign-in error:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"flex min-h-screen w-full items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 p-4\">\r\n      <div className=\"w-full max-w-md rounded-2xl bg-white p-8 shadow-xl\">\r\n        <h2 className=\"mb-8 text-center text-3xl font-bold text-gray-800\">\r\n          Welcome to PingProspect\r\n        </h2>\r\n        <button\r\n          onClick={createUserAccount}\r\n          className=\"w-full rounded-lg bg-[#357AFF] px-4 py-3 text-base font-medium text-white transition-colors hover:bg-[#2E69DE] focus:outline-none focus:ring-2 focus:ring-[#357AFF] focus:ring-offset-2 disabled:opacity-50\"\r\n        >\r\n          <span> SignIn with Google</span>\r\n        </button>\r\n\r\n        {/* {isLoggedIn ? (\r\n          <button\r\n          onClick={SiginOut}\r\n          className=\"w-full rounded-lg bg-[#357AFF] px-4 py-3 text-base font-medium text-white transition-colors hover:bg-[#2E69DE] focus:outline-none focus:ring-2 focus:ring-[#357AFF] focus:ring-offset-2 disabled:opacity-50\"\r\n        > \r\n           <span className=\"text-base\">Signout</span>\r\n        </button>\r\n        ) : (\r\n          <button\r\n            onClick={createUserAccount}\r\n            className=\"w-full rounded-lg bg-[#357AFF] px-4 py-3 text-base font-medium text-white transition-colors hover:bg-[#2E69DE] focus:outline-none focus:ring-2 focus:ring-[#357AFF] focus:ring-offset-2 disabled:opacity-50\"\r\n          > \r\n             <span> SignIn with Google</span>\r\n          </button>\r\n        )} */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAJA;;;;;AAMA,SAAS;IAEP,eAAe;QACb,MAAM,iBAAiB,MAAM;QAC7B,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;QAC1B,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;QACrB,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;QACxB,MAAM,iBAAiB,IAAI,wNAAA,CAAA,qBAAkB;QAC7C,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,qNAAA,CAAA,kBAAe,AAAD,EAAE,MAAM;YAC3C,MAAM,aAAa,wNAAA,CAAA,qBAAkB,CAAC,oBAAoB,CAAC;YAC3D,MAAM,UAAU,YAAY;YAC5B,MAAM,OAAO,OAAO,IAAI;YACxB,MAAM,WAAW;gBACf,KAAK,KAAK,GAAG;gBACb,UAAU,KAAK,WAAW,IAAI;gBAC9B,OAAO,KAAK,KAAK,IAAI;gBACrB,gBAAgB,KAAK,aAAa;gBAClC,SAAS,KAAK,QAAQ,IAAI;gBAC1B,qBAAqB;gBACrB,iBAAiB,IAAI;YACvB;YACA,MAAM,mBAAmB,IAAI;YAC7B,2BAA2B;YAC3B,uDAAuD;YAEvD,IAAI,WAAW,WAAW;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG,oBAAoB;YAC7C;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,MAAM;QACR;IACF;IACA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAGlE,6LAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,6LAAC;kCAAK;;;;;;;;;;;;;;;;;;;;;;AAqBhB;KAlES;uCAoEM","debugId":null}}]
}